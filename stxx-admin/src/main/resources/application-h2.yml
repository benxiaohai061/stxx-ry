# H2内存数据库配置（适用于测试环境）
spring:
  datasource:
    dynamic:
      # HikariCP 连接池配置
      hikari:
        maximum-pool-size: 20
        minimum-idle: 5
        connection-timeout: 30000
        idle-timeout: 600000
        max-lifetime: 1800000
        connection-test-query: SELECT 1
      datasource:
        # 主库数据源（内存模式）
        master:
          driver-class-name: org.h2.Driver
          url: jdbc:h2:mem:ry-vue;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
          #url: jdbc:h2:file:./data/ry-vue;MODE=MySQL;AUTO_SERVER=TRUE
          username: sa
          password:
        # 测试数据源（内存模式）
        test:
          driver-class-name: org.h2.Driver
          url: jdbc:h2:mem:ry-vue-test;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
          username: sa
          password:
  # H2控制台配置（开发/测试环境使用）
  h2:
    console:
      enabled: true
      path: /h2-console
      settings:
        web-allow-others: true

